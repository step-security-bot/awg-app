"use strict";(self.webpackChunkawg_app=self.webpackChunkawg_app||[]).push([[316],{1958:(a,w)=>{var n="square",D=[9723,9724,61590,9632],E="f0c8",u="M0 96C0 60.65 28.65 32 64 32H384C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96z";w.DF={prefix:"fas",iconName:n,icon:[448,512,D,E,u]},w.pL=w.DF},4316:(a,w,s)=>{s.r(w),s.d(w,{EditionSheetsModule:()=>_});var h=s(655),n=s(5e3),f=s(3762),A=s(8972),D=s(3560),E=s(9879);let u=class{constructor(){this.openModalRequest=new n.vpe,this.selectOverlaysRequest=new n.vpe,this.selectSvgSheetRequest=new n.vpe}openModal(e){!e||this.openModalRequest.emit(e)}selectOverlays(e){this.selectOverlaysRequest.emit(e)}selectSvgSheet(e){!e||this.selectSvgSheetRequest.emit(e)}};u.propDecorators={svgSheetsData:[{type:n.IIB}],selectedSvgSheet:[{type:n.IIB}],selectedTextcriticalComments:[{type:n.IIB}],showTkA:[{type:n.IIB}],openModalRequest:[{type:n.r_U}],selectOverlaysRequest:[{type:n.r_U}],selectSvgSheetRequest:[{type:n.r_U}]},u=(0,h.gn)([(0,n.wA2)({selector:"awg-edition-accolade",template:D,changeDetection:n.n4l.OnPush,styles:[E]})],u);var Z=s(8370),V=s(5458);let k=class{constructor(){this.selectSvgSheetRequest=new n.vpe}isSelectedSvgSheet(e){let t=this.selectedSvgSheet.id;return this.selectedSvgSheet.content&&this.selectedSvgSheet.content[0].partial&&(t+=this.selectedSvgSheet.content[0].partial),e===t}selectSvgSheet(e){!e||this.selectSvgSheetRequest.emit(e)}};k.propDecorators={svgSheetsData:[{type:n.IIB}],selectedSvgSheet:[{type:n.IIB}],selectSvgSheetRequest:[{type:n.r_U}]},k=(0,h.gn)([(0,n.wA2)({selector:"awg-edition-svg-sheet-nav",template:Z,changeDetection:n.n4l.OnPush,styles:[V]})],k);var Y=s(9671),X=s(9513),j=s(8263),K=s(801),J=s(8372),U=s(2722),z=s(7579),Q=s(22),b=s(5428),L=s(3212),ee=s(4967);let I=class{constructor(e){this.svgDrawingService=e,this.openModalRequest=new n.vpe,this.selectSvgSheetRequest=new n.vpe,this.selectOverlaysRequest=new n.vpe,this.faCompressArrowsAlt=K.udn,this.sliderConfig=new Q.w(1,.1,10,.01,1),this.svgSheetFilePath="",this._availableOverlays=[],this._selectedOverlays=[],this._isRendered=!1,this._resize$=new z.x,this._destroyed$=new z.x,this.ref=this}onResize(){!this.svgSheetSelection||!this.svgSheetRootGroupSelection||(this._getContainerDimensions(this.svgSheetContainerRef),this._resize$.next(!0))}ngOnChanges(){this._isRendered&&this.renderSheet()}ngAfterViewInit(){this._resize$.pipe((0,J.b)(150),(0,U.R)(this._destroyed$)).subscribe(e=>{this.renderSheet()}),this.renderSheet(),this._isRendered=!0}renderSheet(){var e;this._clearSVG(),this._availableOverlays=[],this._selectedOverlays=[],this.svgSheetFilePath=null===(e=this.selectedSvgSheet)||void 0===e?void 0:e.content[0].svg,this._createSvg().then(()=>{this.resetZoom(),this._createSvgOverlays()})}resetZoom(){!this.svgSheetSelection||!this.sliderConfig||(this.onZoomChange(this.sliderConfig.initial),this._reTranslateZoom())}onZoomChange(e){this.sliderConfig.value=e,this._reScaleZoom()}openModal(e){!e||this.openModalRequest.emit(e)}selectSvgSheet(e){!e||this.selectSvgSheetRequest.emit(e)}ngOnDestroy(){this._destroyed$.next(!0),this._destroyed$.complete()}_clearSVG(){var e,t;null===(e=this.svgSheetRootGroupSelection)||void 0===e||e.selectAll("*").remove(),null===(t=this.svgSheetSelection)||void 0===t||t.selectAll("*").remove()}_createSvg(){var e=this;return(0,Y.Z)(function*(){var t,o;e.svgSheetContainerRef?(e.svgSheetSelection=yield e.svgDrawingService.createSvg(e.svgSheetFilePath,null===(t=e.svgSheetElementRef)||void 0===t?void 0:t.nativeElement,null===(o=e.svgSheetRootGroupRef)||void 0===o?void 0:o.nativeElement),e.svgSheetRootGroupSelection=e.svgSheetSelection.select("#awg-edition-svg-sheet-root-group"),e._getContainerDimensions(e.svgSheetContainerRef),e._zoomHandler(e.svgSheetRootGroupSelection,e.svgSheetSelection)):console.warn("No svg sheet container ref")})()}_createSvgOverlays(){if(!this.svgSheetRootGroupSelection)return;const e=this.svgDrawingService.getTkkGroups(this.svgSheetRootGroupSelection);e&&e.nodes().forEach(t=>{const o=t.id;this._availableOverlays.push(new b.OZ(b.wN.item,o,!1));const i=t.getBBox(),r=this.svgDrawingService.createOverlayGroup(this.svgSheetRootGroupSelection,o,i,"tkk"),c=this.svgDrawingService.getOverlayGroupRectSelection(this.svgSheetRootGroupSelection,o,"tkk"),d=this._getOverlayById(this._availableOverlays,o);r.on("mouseover",()=>{if(d&&!d.isSelected){const g=this.svgDrawingService.selectionFillColor;this.svgDrawingService.fillD3SelectionWithColor(c,g)}}).on("mouseout",()=>{const g=d&&d.isSelected?this.svgDrawingService.selectionFillColor:this.svgDrawingService.deselectionFillColor;this.svgDrawingService.fillD3SelectionWithColor(c,g)}).on("click",()=>{d&&(d.isSelected=!d.isSelected),this._selectedOverlays=this._getSelectedOverlays(this._availableOverlays),this._onOverlaySelect(this._selectedOverlays)})}),this.svgDrawingService.getLinkBoxes(this.svgSheetRootGroupSelection)}_getContainerDimensions(e){const t=this.svgDrawingService.getContainerDimensions(e);this._divWidth=this._divWidth?this._divWidth:t.width,this._divHeight=this._divHeight?this._divHeight:t.height}_getSelectedOverlays(e){return e.filter(t=>t.isSelected)}_getOverlayById(e,t){return e.find(o=>o.id===t)}_onOverlaySelect(e){this.selectOverlaysRequest.emit(e)}_reScaleZoom(){!this.svgSheetSelection||!this.sliderConfig.value||this._zoomBehaviour.scaleTo(this.svgSheetSelection,this.sliderConfig.value)}_reTranslateZoom(){!this.svgSheetSelection||this.svgSheetRootGroupSelection.attr("transform","translate(0,0)")}_roundToNearestScaleStep(e){const t=this.sliderConfig.stepSize;return((i,r)=>Number(Math.round(Number(i+"e"+r))+"e-"+r))(e,(i=t,Math.floor(i)===i?0:i.toString().split(".")[1].length||0));var i}_zoomHandler(e,t){this._zoomBehaviour=ee.sP().scaleExtent([this.sliderConfig.min,this.sliderConfig.max]).on("zoom",l=>{const i=l.transform,r=this._roundToNearestScaleStep(i.k);e.attr("transform",i),this.sliderInput&&this.sliderInput.nativeElement&&(this.sliderInput.nativeElement.value=r,this.sliderConfig.value=r),this.sliderInputLabel&&this.sliderInputLabel.nativeElement&&(this.sliderInputLabel.nativeElement.innerText=r+"x")}),t.call(this._zoomBehaviour)}};I.ctorParameters=()=>[{type:L.Rt}],I.propDecorators={svgSheetContainerRef:[{type:n.i9L,args:["svgSheetContainer"]}],svgSheetElementRef:[{type:n.i9L,args:["svgSheetElement"]}],svgSheetRootGroupRef:[{type:n.i9L,args:["svgSheetRootGroup"]}],sliderInput:[{type:n.i9L,args:["sliderInput"]}],sliderInputLabel:[{type:n.i9L,args:["sliderInputLabel"]}],selectedSvgSheet:[{type:n.IIB}],openModalRequest:[{type:n.r_U}],selectSvgSheetRequest:[{type:n.r_U}],selectOverlaysRequest:[{type:n.r_U}],onResize:[{type:n.L6J,args:["window:resize"]}]},I=(0,h.gn)([(0,n.wA2)({selector:"awg-edition-svg-sheet",template:X,styles:[j]})],I);let F=class{};F=(0,h.gn)([(0,n.LVF)({imports:[f.m,A.K],declarations:[u,k,I],exports:[u]})],F);var te=s(1497),ne=s(2833);let G=class{constructor(){this._itemsOffsetCorrection=4}getFolioSvgData(e,t){const o=new b.jD(e,t,this._itemsOffsetCorrection);return new b.Hb(o)}addViewBoxToSnapSvgCanvas(e,t){e.attr({viewBox:t.viewBox,width:t.svgWidth,height:t.svgHeight,version:"1.1",xmlns:"https://www.w3.org/2000/svg",xlink:"https://www.w3.org/1999/xlink",preserveAspectRatio:"xMinYMin meet"})}addFolioToSnapSvgCanvas(e,t,o,l,i){this.ref=i;const r=e.group();this._addFolioSheetToSnapSvgCanvas(e,r,t,o),this._addFolioSystemsToSnapSvgCanvas(e,r,t,o),this._addFolioItemsToSnapSvgCanvas(e,r,t,l)}_addFolioSheetToSnapSvgCanvas(e,t,o,l){const i=o.sheet.folioId,r=o.sheet.upperLeftCorner.x,c=o.sheet.upperLeftCorner.y,d=o.sheet.lowerRightCorner.x,g=o.sheet.lowerRightCorner.y;t.attr({sheetGroupId:i,class:"sheet-group"});const m=e.rect(r,c,d,g);m.attr({fill:"white",stroke:l,strokeWidth:1});const p=Snap.parse("<title>Bl. "+i+"</title>");t.append(p),t.add(m)}_addFolioSystemsToSnapSvgCanvas(e,t,o,l){o.systems.lineArrays.forEach((i,r)=>{const c=e.group();c.attr({systemLineGroupId:r+1,class:"system-line-group"}),i.forEach(v=>{const N=v.startPoint.x,R=v.startPoint.y,W=v.endPoint.x,H=v.endPoint.y,M=e.line(N,R,W,H);M.attr({class:"system-line",stroke:l,strokeWidth:.7}),c.add(M)});const d=o.systems.lineLabelArray[r].x,g=o.systems.lineLabelArray[r].y,m=r+1,p=e.text(d,g,m);p.attr({class:"system-label",dominantBaseline:"hanging",fill:l});const y=e.group(c,p);y.attr({systemsGroupId:r+1,class:"systems-group"}),t.add(y)})}_addFolioItemsToSnapSvgCanvas(e,t,o,l){o.contentItemsArray.forEach(i=>{if(!i)return;const r=i.upperLeftCorner.x+i.width/2,c=i.upperLeftCorner.y+i.height/2,d=i.sigleAddendum?[i.sigle," "+i.sigleAddendum]:[i.sigle],g=e.text(0,0,d);g.attr({class:"item-label",style:"font: 12px Source Sans Pro, source-sans-pro, sans-serif",dominantBaseline:"middle"});const m="middle";g.select("tspan:first-of-type").attr({x:r,y:c,textAnchor:m}),d.length>1&&g.select("tspan:last-of-type").attr({x:r,y:c,textAnchor:m,dy:"1.2em"});const p=e.group();i.lineArray.forEach(R=>{const W=R.startPoint.x,H=R.startPoint.y,M=R.endPoint.x,he=R.endPoint.y,ge=e.line(W,H,M,he);p.add(ge)}),p.attr({class:"item-shape",strokeWidth:2,fill:"white"});const y=e.el("a");y.attr({class:"item-link"}),y.add(p),y.add(g);const v=e.group(y);v.attr({itemGroupId:d,itemId:i.id,class:"item-group"});const N=Snap.parse("<title>"+d+"</title>");v.append(N),!1===i.selectable?(v.click(()=>this.ref.openModal(i.linkTo)),v.attr({stroke:"grey",fill:"grey"})):(v.click(()=>this.ref.selectSvgSheet(i.id)),v.attr({stroke:l,fill:l})),t.add(v)})}};G=(0,h.gn)([(0,n.GSi)({providedIn:"root"})],G);let C=class{constructor(e){this.folioService=e,this.openModalRequest=new n.vpe,this.selectSvgSheetRequest=new n.vpe,this.canvasArray=[],this.folioSvgDataArray=[],this.vbArray=[],this.bgColor="#a3a3a3",this.fgColor="orange",this._folioSettings={factor:1.5,formatX:175,formatY:270,initialOffsetX:5,initialOffsetY:5,numberOfFolios:0},this.ref=this}get folioSettings(){return this._folioSettings}set folioSettings(e){this._folioSettings=e}ngOnChanges(){this.prepareFolioSvgOutput()}ngAfterViewChecked(){this.renderSnapSvg(),this.toggleActiveClass()}toggleActiveClass(){!this.canvasArray||this.canvasArray.forEach(e=>{e.selectAll(".item-group").forEach(t=>{const o=t.node.attributes.itemId.value;t.toggleClass("active",this.isSelectedSvgSheet(o))})})}prepareFolioSvgOutput(){this.folioSvgDataArray=[],this.selectedConvolute.folios.forEach((e,t)=>{this.folioSettings={factor:this.folioSettings.factor,formatX:+e.format.width,formatY:+e.format.height,initialOffsetX:this.folioSettings.initialOffsetX,initialOffsetY:this.folioSettings.initialOffsetY,numberOfFolios:+this.selectedConvolute.folios.length};const o=(this.folioSettings.formatX+2*this.folioSettings.initialOffsetX)*this.folioSettings.factor,l=(this.folioSettings.formatY+2*this.folioSettings.initialOffsetY)*this.folioSettings.factor;this.vbArray[t]=new b.HA(o,l),this.folioSvgDataArray[t]=this.folioService.getFolioSvgData(this.folioSettings,e)})}renderSnapSvg(){this.canvasArray=[],this.folioSvgDataArray.forEach((e,t)=>{const o="#folio-"+e.sheet.folioId,l=Snap(o);!l||(this.folioService.addViewBoxToSnapSvgCanvas(l,this.vbArray[t]),this.folioService.addFolioToSnapSvgCanvas(l,e,this.bgColor,this.fgColor,this.ref),this.canvasArray.push(l))})}isSelectedSvgSheet(e){return e===this.selectedSvgSheet.id}openModal(e){this.openModalRequest.emit(e)}selectSvgSheet(e){this.selectSvgSheetRequest.emit(e)}};C.ctorParameters=()=>[{type:G}],C.propDecorators={selectedConvolute:[{type:n.IIB}],selectedSvgSheet:[{type:n.IIB}],openModalRequest:[{type:n.r_U}],selectSvgSheetRequest:[{type:n.r_U}]},C=(0,h.gn)([(0,n.wA2)({selector:"awg-edition-folio",template:te,changeDetection:n.n4l.OnPush,styles:[ne]})],C);let P=class{};P=(0,h.gn)([(0,n.LVF)({imports:[f.m],declarations:[C],exports:[C]})],P);var oe=s(1352),se=s(2590),ie=s(1958);let O=class{constructor(){this.openModalRequest=new n.vpe,this.selectConvoluteRequest=new n.vpe,this.selectSvgSheetRequest=new n.vpe,this.faSquare=ie.pL,this.folioLegends=[{color:"olivedrab",label:"aktuell ausgew\xe4hlt"},{color:"orange",label:"ausw\xe4hlbar"},{color:"grey",label:"(momentan noch) nicht ausw\xe4hlbar"}]}openModal(e){!e||this.openModalRequest.emit(e)}selectConvolute(e){!e||this.selectConvoluteRequest.emit(e)}selectSvgSheet(e){!e||this.selectSvgSheetRequest.emit(e)}};O.propDecorators={folioConvoluteData:[{type:n.IIB}],selectedConvolute:[{type:n.IIB}],selectedSvgSheet:[{type:n.IIB}],openModalRequest:[{type:n.r_U}],selectConvoluteRequest:[{type:n.r_U}],selectSvgSheetRequest:[{type:n.r_U}]},O=(0,h.gn)([(0,n.wA2)({selector:"awg-edition-convolute",template:oe,changeDetection:n.n4l.OnPush,styles:[se]})],O);let B=class{};B=(0,h.gn)([(0,n.LVF)({imports:[f.m,P],declarations:[O],exports:[O]})],B);var T=s(8755),le=s(1865),re=s(5460),q=s(3900),ae=s(67);let x=class{constructor(e,t,o,l,i){this.editionDataService=e,this.editionService=t,this.utils=o,this.route=l,this.router=i,this.errorMessage=void 0,this.showTkA=!1,this._destroyed$=new z.x}ngOnInit(){this.getEditionSheetsData()}getEditionSheetsData(){this.route.paramMap.pipe((0,q.w)(()=>this.editionService.getEditionWork()),(0,q.w)(e=>(this.editionWork=e,this.editionDataService.getEditionSheetsData(this.editionWork))),(0,q.w)(e=>(this.folioConvoluteData=e[0],this.svgSheetsData=e[1],this.textcriticsData=e[2],this.route.queryParamMap)),(0,U.R)(this._destroyed$)).subscribe({next:e=>{this._selectConvolute(e),this._filterSvgSheets(),this._selectSvgSheet(e)},error:e=>{this.errorMessage=e}})}onConvoluteSelect(e){e||(e=this.folioConvoluteData.convolutes[0].convoluteId||"");const t=this._findConvolute(e);if(!this.utils.isNotEmptyArray(t.folios)&&t.linkTo)return void this.modal.open(t.linkTo);this.selectedConvolute=t,this._filterSvgSheets();const o={queryParams:{convolute:t.convoluteId,sketch:this.filteredSvgSheetsData.sheets[0].id}};this.router.navigate([this.editionWork.baseRoute,this.editionWork.sheetsRoute.route],o)}onOverlaySelect(e){if(!this.textcriticsData&&!this.selectedSvgSheet)return;const t=this._findTextcriticalComments();this.selectedTextcriticalComments=this.editionService.getTextcriticalCommentsForOverlays(t,e),this.showTkA=this.utils.isNotEmptyArray(this.selectedTextcriticalComments)}onSvgSheetSelect(e){this.selectedConvolute||this.onConvoluteSelect(""),this.onOverlaySelect([]),e||(e=this.filteredSvgSheetsData.sheets[0].id),this.selectedSvgSheet=this._findSvgSheet(e);const t={queryParams:{convolute:this.selectedConvolute.convoluteId,sketch:e},queryParamsHandling:"merge"};this.router.navigate([this.editionWork.baseRoute,this.editionWork.sheetsRoute.route],t)}ngOnDestroy(){this._destroyed$.next(!0),this._destroyed$.complete()}_findConvolute(e){let t=0;const o=this.folioConvoluteData.convolutes.findIndex(l=>l.convoluteId===e);return o>=0&&(t=o),this.folioConvoluteData.convolutes[t]}_findSvgSheet(e){let o,t=0;const l=this.filteredSvgSheetsData.sheets.findIndex(r=>{let c=r.id;return r.content.length>1&&(o=r.content.findIndex(d=>c+d.partial===e),o>=0&&(c+=r.content[o].partial)),c===e});l>=0&&(t=l);const i=Object.assign({},this.filteredSvgSheetsData.sheets[t]);return o>=0&&(i.content=[this.filteredSvgSheetsData.sheets[t].content[o]]),i}_findTextcriticalComments(){if(!this.textcriticsData&&!this.selectedSvgSheet)return;const e=this.textcriticsData.textcritics.findIndex(t=>t.id===this.selectedSvgSheet.id);return e>-1&&this.textcriticsData.textcritics[e]&&this.textcriticsData.textcritics[e].comments?this.textcriticsData.textcritics[e].comments:[]}_filterSvgSheets(){this.filteredSvgSheetsData=new b.vU,this.filteredSvgSheetsData.sheets=this.svgSheetsData.sheets.filter(e=>e.convolute===this.selectedConvolute.convoluteId)}_getSketchParams(e){return e.get("sketch")?e.get("sketch"):this.filteredSvgSheetsData.sheets[0].id}_getConvoluteParams(e){return e.get("convolute")?e.get("convolute"):this.folioConvoluteData.convolutes[0].convoluteId}_selectConvolute(e){const t=this._getConvoluteParams(e);this.selectedConvolute=this._findConvolute(t)}_selectSvgSheet(e){const t=this._getSketchParams(e);this.selectedSvgSheet=this._findSvgSheet(t),this.selectedTextcriticalComments=this._findTextcriticalComments()}};x.ctorParameters=()=>[{type:L.Ko},{type:L.OE},{type:ae.tI},{type:T.gz},{type:T.F0}],x.propDecorators={modal:[{type:n.i9L,args:["modal",{static:!0}]}]},x=(0,h.gn)([(0,n.wA2)({selector:"awg-edition-sheets",template:le,styles:[re]})],x);const de=[{path:"",component:x,data:{title:"AWG Online Edition \u2013 Sheets"}}],ce=[x];let $=class{};$=(0,h.gn)([(0,n.LVF)({imports:[T.Bz.forChild(de)],exports:[T.Bz]})],$);let _=class{};_=(0,h.gn)([(0,n.LVF)({imports:[f.m,F,B,$],declarations:[ce]})],_)},9879:a=>{a.exports=""},5458:a=>{a.exports=""},8263:a=>{a.exports="#awg-edition-svg-container {\n  position: relative;\n  width: 100%;\n}\n#awg-edition-svg-container > .awg-edition-svg-icon-bar {\n  position: relative;\n  width: 100%;\n}\n.awg-edition-svg-panel-container {\n  position: inherit;\n  height: 100%;\n}\n/* slider */\n.input-group.awg-edition-svg-zoom-slider-container {\n  flex-wrap: nowrap;\n  width: auto;\n}\n.input-group.awg-edition-svg-zoom-slider-container > :not(:first-child) {\n  margin-left: 0px !important;\n}\n#slider-label.input-group-text {\n  min-width: 50px;\n  color: #149b9e;\n}\n/* slider input */\ninput[type=range].awg-edition-svg-zoom-slider {\n  width: 100%;\n  background-color: transparent;\n  -webkit-appearance: none;\n}\ninput[type=range].awg-edition-svg-zoom-slider:focus {\n  outline: none;\n}\ninput[type=range].awg-edition-svg-zoom-slider:focus::-ms-fill-lower {\n  background: rgba(221, 221, 221, 0.78);\n}\ninput[type=range].awg-edition-svg-zoom-slider:focus::-ms-fill-upper {\n  background: #e5e5e5;\n}\ninput[type=range].awg-edition-svg-zoom-slider:focus::-webkit-slider-runnable-track {\n  background: #e5e5e5;\n}\ninput[type=range].awg-edition-svg-zoom-slider::-webkit-slider-runnable-track {\n  background: rgba(221, 221, 221, 0.78);\n  border: 0.2px solid #dddddd;\n  border-radius: 1.3px;\n  width: 100%;\n  height: 31px;\n  cursor: pointer;\n}\ninput[type=range].awg-edition-svg-zoom-slider::-webkit-slider-thumb {\n  width: 15px;\n  height: 29px;\n  background: #149b9e;\n  border: 1.8px solid #149b9e;\n  border-radius: 10px;\n  cursor: pointer;\n  -webkit-appearance: none;\n}\ninput[type=range].awg-edition-svg-zoom-slider::-moz-range-track {\n  background: rgba(221, 221, 221, 0.78);\n  border: 0.2px solid #dddddd;\n  border-radius: 1.3px;\n  width: 100%;\n  height: 29px;\n  cursor: pointer;\n  -moz-margin-start: fill;\n  margin-right: fill;\n}\ninput[type=range].awg-edition-svg-zoom-slider::-moz-range-thumb {\n  width: 15px;\n  height: 27px;\n  background: #149b9e;\n  border: 1.8px solid #149b9e;\n  border-radius: 10px;\n  cursor: pointer;\n}\ninput[type=range].awg-edition-svg-zoom-slider::-ms-track {\n  background: transparent;\n  border-color: transparent;\n  border-width: 7.4px 0;\n  color: transparent;\n  width: 100%;\n  height: 31px;\n  cursor: pointer;\n}\ninput[type=range].awg-edition-svg-zoom-slider::-ms-fill-lower {\n  background: rgba(221, 221, 221, 0.78);\n  border: 0.2px solid #dddddd;\n  border-radius: 2.6px;\n}\ninput[type=range].awg-edition-svg-zoom-slider::-ms-fill-upper {\n  background: rgba(221, 221, 221, 0.78);\n  border: 0.2px solid #dddddd;\n  border-radius: 2.6px;\n}\ninput[type=range].awg-edition-svg-zoom-slider::-ms-thumb {\n  width: 15px;\n  height: 29px;\n  background: #149b9e;\n  border: 1.8px solid #149b9e;\n  border-radius: 10px;\n  cursor: pointer;\n  margin-top: 0px;\n  /*Needed to keep the Edge thumb centred*/\n}"},2590:a=>{a.exports=""},2833:a=>{a.exports="/*\nsee also https://stackoverflow.com/questions/114543/how-to-horizontally-center-a-div-in-another-div\n */\n.svgGrid {\n  margin-bottom: 2em;\n}\n.svgRow {\n  padding-top: 1em;\n  width: inherit;\n  text-align: center;\n  box-shadow: 5px 5px 6px #cccccc;\n  border: 1px solid #eeeeee;\n}\n.svgCol {\n  display: inline-block;\n}"},5460:a=>{a.exports=""},3560:a=>{a.exports='<ngb-accordion #accoladeAcc="ngbAccordion" id="accoladeAcc" activeIds="awg-accolade-view">\n    <ngb-panel id="awg-accolade-view">\n        <ng-template ngbPanelHeader>\n            <div class="accordion-button awg-accordion-button-custom-header justify-content-between">\n                <button ngbPanelToggle class="p-0 btn btn-link text-start">Edierte Notentexte</button>\n                <button type="button" class="btn btn-sm btn-outline-info" (click)="openModal(\'HINT_EDITION_SHEETS\')">\n                    Hinweise zur Nutzung\n                </button>\n            </div>\n        </ng-template>\n        <ng-template ngbPanelContent>\n            \x3c!-- svg sheet navigation --\x3e\n            <awg-edition-svg-sheet-nav\n                *ngIf="svgSheetsData && selectedSvgSheet"\n                [svgSheetsData]="svgSheetsData"\n                [selectedSvgSheet]="selectedSvgSheet"\n                (selectSvgSheetRequest)="selectSvgSheet($event)">\n            </awg-edition-svg-sheet-nav>\n\n            \x3c!-- svg sheet --\x3e\n            <awg-edition-svg-sheet\n                *ngIf="selectedSvgSheet"\n                [selectedSvgSheet]="selectedSvgSheet"\n                (openModalRequest)="openModal($event)"\n                (selectOverlaysRequest)="selectOverlays($event)"\n                (selectSvgSheetRequest)="selectSvgSheet($event)">\n            </awg-edition-svg-sheet>\n\n            \x3c!-- table for TkA --\x3e\n            <div class="panel-footer" *ngIf="showTkA">\n                <h5 class="mt-4">Textkritischer Kommentar:</h5>\n                <awg-edition-tka-table\n                    [textcriticalComments]="selectedTextcriticalComments"\n                    (openModalRequest)="openModal($event)"\n                    (selectSvgSheetRequest)="selectSvgSheet($event)">\n                </awg-edition-tka-table>\n            </div>\n        </ng-template>\n    </ngb-panel>\n</ngb-accordion>\n'},8370:a=>{a.exports='<div *ngIf="svgSheetsData" class="btn-group awg-btn-group d-flex" role="group">\n    <ng-container *ngFor="let svgSheet of svgSheetsData.sheets">\n        <a\n            *ngIf="svgSheet.content.length === 1"\n            class="btn btn-default w-100 awg-svg-sheet-nav-link"\n            [ngClass]="{ active: isSelectedSvgSheet(svgSheet.id), \'text-muted\': !isSelectedSvgSheet(svgSheet.id) }"\n            (click)="selectSvgSheet(svgSheet.id)">\n            {{ svgSheet.label }}\n        </a>\n        <div *ngIf="svgSheet.content.length > 1" class="awg-svg-sheet-nav-link-dropdown" ngbDropdown>\n            <a class="btn text-muted" id="dropDownSheetNav" ngbDropdownToggle>\n                <span>{{ svgSheet.label }}</span>\n            </a>\n            <div ngbDropdownMenu aria-labelledby="dropdownSheetNav">\n                <div *ngFor="let svgSheetContent of svgSheet.content">\n                    <a\n                        class="dropdown-item"\n                        [ngClass]="{\n                            active: isSelectedSvgSheet(svgSheet.id + svgSheetContent.partial),\n                            \'text-muted\': !isSelectedSvgSheet(svgSheet.id + svgSheetContent.partial)\n                        }"\n                        (click)="selectSvgSheet(svgSheet.id + svgSheetContent.partial)"\n                        >{{ svgSheet.label + svgSheetContent.partial }}</a\n                    >\n                </div>\n            </div>\n        </div>\n    </ng-container>\n</div>\n'},9513:a=>{a.exports='<div id="awg-edition-svg-container" *ngIf="selectedSvgSheet">\n    <div class="awg-edition-svg-icon-bar">\n        \x3c!-- Slider --\x3e\n        <div class="input-group input-group-sm awg-edition-svg-zoom-slider-container float-start mb-3">\n            <span #sliderInputLabel class="input-group-text" id="slider-label">{{ sliderConfig.value }}x</span>\n            <input\n                type="range"\n                #sliderInput\n                class="awg-edition-svg-zoom-slider"\n                id="awg-edition-svg-zoom-slider"\n                name="zoomSlider"\n                aria-label="Zoom slider"\n                aria-describedby="slider-label"\n                [min]="sliderConfig.min"\n                [max]="sliderConfig.max"\n                [step]="sliderConfig.stepSize"\n                [(ngModel)]="sliderConfig.value"\n                (ngModelChange)="onZoomChange($event)" />\n            <button class="btn btn-sm btn-outline-info" type="submit" title="Reset zoom" (click)="resetZoom()">\n                <fa-icon [icon]="faCompressArrowsAlt"></fa-icon>\n            </button>\n        </div>\n    </div>\n\n    <div #svgSheetContainer class="awg-edition-svg-sheet-container">\n        <svg #svgSheetElement id="awg-edition-svg-sheet">\n            <g #svgSheetRootGroup id="awg-edition-svg-sheet-root-group"></g>\n        </svg>\n    </div>\n</div>\n'},1352:a=>{a.exports='<ngb-accordion activeIds="awg-convolute-view">\n    <ngb-panel id="awg-convolute-view" title="Konvolut\xfcbersicht">\n        <ng-template ngbPanelContent>\n            \x3c!-- convolute dropDown --\x3e\n            <div class="awg-convolute-dropdown d-inline-block" ngbDropdown>\n                <a class="btn" id="dropDownConvolutes" ngbDropdownToggle>\n                    <span>{{ selectedConvolute.convoluteLabel }}</span>\n                </a>\n                <div ngbDropdownMenu aria-labelledby="dropDownConvolutes">\n                    <a\n                        class="dropdown-item awg-convolute-dropdown-item"\n                        *ngFor="let convolute of folioConvoluteData.convolutes"\n                        (click)="selectConvolute(convolute.convoluteId)"\n                        >{{ convolute.convoluteLabel }}</a\n                    >\n                </div>\n            </div>\n\n            \x3c!-- folio overview --\x3e\n            <awg-edition-folio\n                *ngIf="selectedConvolute && selectedSvgSheet"\n                [selectedConvolute]="selectedConvolute"\n                [selectedSvgSheet]="selectedSvgSheet"\n                (openModalRequest)="openModal($event)"\n                (selectSvgSheetRequest)="selectSvgSheet($event)">\n            </awg-edition-folio>\n\n            \x3c!-- folio legend --\x3e\n            <div class="awg-folio-legend col-12">\n                Legende:&nbsp;\n                <ng-container *ngFor="let legend of folioLegends">\n                    <span class="{{ legend.color }}">\n                        <fa-icon [icon]="faSquare"></fa-icon>\n                        {{ legend.label }}\n                    </span>\n                </ng-container>\n            </div>\n        </ng-template>\n    </ngb-panel>\n</ngb-accordion>\n'},1497:a=>{a.exports='\x3c!-- embedded svg: EditionSvgSheet Overview --\x3e\n<div class="container-fluid svgGrid" *ngIf="folioSvgDataArray">\n    <div class="row svgRow">\n        <div\n            class="col-sm-6 col-lg-{{ 12 / folioSvgDataArray?.length }} svgCol"\n            *ngFor="let folioSvg of folioSvgDataArray">\n            <svg id="folio-{{ folioSvg.sheet.folioId }}"></svg>\n        </div>\n    </div>\n</div>\n'},1865:a=>{a.exports='\x3c!-- content: edition detail --\x3e\n<div>\n    \x3c!-- modal --\x3e\n    <awg-modal #modal></awg-modal>\n\n    \x3c!-- body with embedded svg\'s --\x3e\n    \x3c!-- accolade view --\x3e\n    <awg-edition-accolade\n        *ngIf="svgSheetsData && selectedSvgSheet"\n        [svgSheetsData]="filteredSvgSheetsData"\n        [selectedSvgSheet]="selectedSvgSheet"\n        [selectedTextcriticalComments]="selectedTextcriticalComments"\n        [showTkA]="showTkA"\n        (openModalRequest)="modal.open($event)"\n        (selectSvgSheetRequest)="onSvgSheetSelect($event)"\n        (selectOverlaysRequest)="onOverlaySelect($event)">\n    </awg-edition-accolade>\n\n    \x3c!-- convolute view --\x3e\n    <awg-edition-convolute\n        *ngIf="folioConvoluteData && selectedConvolute && selectedSvgSheet"\n        [folioConvoluteData]="folioConvoluteData"\n        [selectedConvolute]="selectedConvolute"\n        [selectedSvgSheet]="selectedSvgSheet"\n        (openModalRequest)="modal.open($event)"\n        (selectConvoluteRequest)="onConvoluteSelect($event)"\n        (selectSvgSheetRequest)="onSvgSheetSelect($event)">\n    </awg-edition-convolute>\n</div>\n'}}]);