<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>awg-app documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
        <link rel="stylesheet" href="../styles/Readthedocs.css">
    </head>
    <body>
          <script>
               // Blocking script to avaoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);

               if ($darkModeToggles.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-block d-sm-none">
            <a href="../" class="navbar-brand">awg-app documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >FolioService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-sheets/edition-convolute/edition-folio-viewer/folio.service.ts</code>
        </p>


            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>The Folio service.</p>
<p>It handles the calculations needed for edition folio svg&#39;s
and prepares the Snap svg canvas object.</p>
<p>Provided in: <code>root</code>.</p>

            </p>



            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_itemsOffsetCorrection" >_itemsOffsetCorrection</a>
                            </li>
                            <li>
                                <a href="#ref" >ref</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_addFolioItemsToSnapSvgCanvas" >_addFolioItemsToSnapSvgCanvas</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_addFolioSheetToSnapSvgCanvas" >_addFolioSheetToSnapSvgCanvas</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_addFolioSystemsToSnapSvgCanvas" >_addFolioSystemsToSnapSvgCanvas</a>
                            </li>
                            <li>
                                <a href="#addFolioToSnapSvgCanvas" >addFolioToSnapSvgCanvas</a>
                            </li>
                            <li>
                                <a href="#addViewBoxToSnapSvgCanvas" >addViewBoxToSnapSvgCanvas</a>
                            </li>
                            <li>
                                <a href="#getFolioSvgData" >getFolioSvgData</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>


            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_addFolioItemsToSnapSvgCanvas"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_addFolioItemsToSnapSvgCanvas</b></span>
                        <a href="#_addFolioItemsToSnapSvgCanvas"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>_addFolioItemsToSnapSvgCanvas(snapCanvas: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, snapSheetGroup: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, folioSvg: <a href="../classes/FolioSvgData.html" target="_self">FolioSvgData</a>, fgColor: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="255"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-sheets/edition-convolute/edition-folio-viewer/folio.service.ts:255</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Private method: _addFolioItemsToSnapSvgCanvas.</p>
<p>It adds the folio&#39;s items from the calculated
folio svg data to the folio svg object (SnapCanvas).</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>snapCanvas</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given Snap canvas svg object.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>snapSheetGroup</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given Snap canvas sheet group object.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>folioSvg</td>
                                            <td>
                                                            <code><a href="../classes/FolioSvgData.html" target="_self" >FolioSvgData</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given calculated folio data.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>fgColor</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given foreground color.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>Adds the items to the Snap canvas svg object.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_addFolioSheetToSnapSvgCanvas"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_addFolioSheetToSnapSvgCanvas</b></span>
                        <a href="#_addFolioSheetToSnapSvgCanvas"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>_addFolioSheetToSnapSvgCanvas(snapCanvas: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, snapSheetGroup: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, folioSvg: <a href="../classes/FolioSvgData.html" target="_self">FolioSvgData</a>, bgColor: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="138"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-sheets/edition-convolute/edition-folio-viewer/folio.service.ts:138</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Private method: _addFolioSheetToSnapSvgCanvas.</p>
<p>It adds the folio&#39;s sheet from the calculated
folio svg data to the folio svg object (SnapCanvas).</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>snapCanvas</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given Snap canvas svg object.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>snapSheetGroup</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given Snap canvas sheet group object.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>folioSvg</td>
                                            <td>
                                                            <code><a href="../classes/FolioSvgData.html" target="_self" >FolioSvgData</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given calculated folio data.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>bgColor</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given background color.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>Adds the sheet to the Snap canvas svg object.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_addFolioSystemsToSnapSvgCanvas"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_addFolioSystemsToSnapSvgCanvas</b></span>
                        <a href="#_addFolioSystemsToSnapSvgCanvas"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>_addFolioSystemsToSnapSvgCanvas(snapCanvas: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, snapSheetGroup: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, folioSvg: <a href="../classes/FolioSvgData.html" target="_self">FolioSvgData</a>, bgColor: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="187"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-sheets/edition-convolute/edition-folio-viewer/folio.service.ts:187</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Private method: _addFolioSystemsToSnapSvgCanvas.</p>
<p>It adds the folio&#39;s systems from the calculated
folio svg data to the folio svg object (SnapCanvas).</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>snapCanvas</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given Snap canvas svg object.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>snapSheetGroup</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given Snap canvas sheet group object.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>folioSvg</td>
                                            <td>
                                                            <code><a href="../classes/FolioSvgData.html" target="_self" >FolioSvgData</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given calculated folio data.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>bgColor</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given background color.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>Adds the systems to the Snap canvas svg object.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addFolioToSnapSvgCanvas"></a>
                    <span class="name">
                        <span ><b>addFolioToSnapSvgCanvas</b></span>
                        <a href="#addFolioToSnapSvgCanvas"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addFolioToSnapSvgCanvas(snapCanvas: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, folioSvg: <a href="../classes/FolioSvgData.html" target="_self">FolioSvgData</a>, bgColor: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, fgColor: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, ref: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="99"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-sheets/edition-convolute/edition-folio-viewer/folio.service.ts:99</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Public method: addFolioToSnapSvgCanvas.</p>
<p>It coordinates the drawing of the calculated folio svg data
for a folio&#39;s sheet, systems and items to the folio svg object
(SnapCanvas).</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>snapCanvas</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given Snap canvas svg object.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>folioSvg</td>
                                            <td>
                                                            <code><a href="../classes/FolioSvgData.html" target="_self" >FolioSvgData</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given calculated folio data.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>bgColor</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given background color.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>fgColor</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given foreground color.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>ref</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given reference to the calling component.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>Adds the folio to the Snap canvas svg object.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addViewBoxToSnapSvgCanvas"></a>
                    <span class="name">
                        <span ><b>addViewBoxToSnapSvgCanvas</b></span>
                        <a href="#addViewBoxToSnapSvgCanvas"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addViewBoxToSnapSvgCanvas(snapCanvas: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, vb: <a href="../classes/ViewBox.html" target="_self">ViewBox</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="73"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-sheets/edition-convolute/edition-folio-viewer/folio.service.ts:73</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Public method: addViewBoxToSnapSvgCanvas.</p>
<p>It adds the svg viewbox attributes to a Snap canvas svg object.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>snapCanvas</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given Snap canvas svg object.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>vb</td>
                                            <td>
                                                            <code><a href="../classes/ViewBox.html" target="_self" >ViewBox</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given ViewBox object.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>Adds the svg viewbox attributes to the Snap canvas svg object.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getFolioSvgData"></a>
                    <span class="name">
                        <span ><b>getFolioSvgData</b></span>
                        <a href="#getFolioSvgData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getFolioSvgData(folioSettings: <a href="../classes/FolioSettings.html" target="_self">FolioSettings</a>, folio: <a href="../classes/Folio.html" target="_self">Folio</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="56"
                                    class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-sheets/edition-convolute/edition-folio-viewer/folio.service.ts:56</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Public method: getFolioSvgData.</p>
<p>It calculates and provides the folio svg data
to render the folio svg object (SnapCanvas).</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>folioSettings</td>
                                            <td>
                                                            <code><a href="../classes/FolioSettings.html" target="_self" >FolioSettings</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given folio format settings.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>folio</td>
                                            <td>
                                                            <code><a href="../classes/Folio.html" target="_self" >Folio</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The given folio.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/FolioSvgData.html" target="_self" >FolioSvgData</a></code>

                        </div>
                            <div class="io-description">
                                <p>The calculated folio data.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_itemsOffsetCorrection"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_itemsOffsetCorrection</b></span>
                        <a href="#_itemsOffsetCorrection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>4</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="44" class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-sheets/edition-convolute/edition-folio-viewer/folio.service.ts:44</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Private variable: _itemsOffsetCorrection.</p>
<p>It corrects the offset (in px) to avoid
border collision between rendered svg items.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ref"></a>
                    <span class="name">
                        <span ><b>ref</b></span>
                        <a href="#ref"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">src/app/views/edition-view/edition-outlets/edition-complex/edition-detail/edition-sheets/edition-convolute/edition-folio-viewer/folio.service.ts:36</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Self-referring variable needed for CompileHtml library.</p>
<p>It refers to the Component from which it is called.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable } from &#x27;@angular/core&#x27;;

import {
    Folio,
    FolioCalculation,
    FolioCalculationLine,
    FolioSettings,
    FolioSvgData,
    ViewBox,
} from &#x27;@awg-views/edition-view/models&#x27;;

/**
 * Declared variable: Snap.
 *
 * It provides access to the embedded SnapSvg library (see {@link snapsvg.io}).
 */
declare let Snap: any;

/**
 * The Folio service.
 *
 * It handles the calculations needed for edition folio svg&#x27;s
 * and prepares the Snap svg canvas object.
 *
 * Provided in: &#x60;root&#x60;.
 */
@Injectable({
    providedIn: &#x27;root&#x27;,
})
export class FolioService {
    /**
     * Self-referring variable needed for CompileHtml library.
     *
     * It refers to the Component from which it is called.
     */
    ref: any;

    /**
     * Private variable: _itemsOffsetCorrection.
     *
     * It corrects the offset (in px) to avoid
     * border collision between rendered svg items.
     */
    private _itemsOffsetCorrection &#x3D; 4;

    /**
     * Public method: getFolioSvgData.
     *
     * It calculates and provides the folio svg data
     * to render the folio svg object (SnapCanvas).
     *
     * @param {FolioSettings} folioSettings The given folio format settings.
     * @param {Folio} folio The given folio.
     * @returns {FolioSvgData} The calculated folio data.
     */
    getFolioSvgData(folioSettings: FolioSettings, folio: Folio): FolioSvgData {
        // Calculate values for svg
        const calculation &#x3D; new FolioCalculation(folioSettings, folio, this._itemsOffsetCorrection);

        // Get svg data from calculation
        return new FolioSvgData(calculation);
    }

    /**
     * Public method: addViewBoxToSnapSvgCanvas.
     *
     * It adds the svg viewbox attributes to a Snap canvas svg object.
     *
     * @param {*} snapCanvas The given Snap canvas svg object.
     * @param {ViewBox} vb The given ViewBox object.
     * @returns {void} Adds the svg viewbox attributes to the Snap canvas svg object.
     */
    addViewBoxToSnapSvgCanvas(snapCanvas: any, vb: ViewBox): void {
        snapCanvas.attr({
            viewBox: vb.viewBox,
            width: vb.svgWidth,
            height: vb.svgHeight,
            version: &#x27;1.1&#x27;,
            xmlns: &#x27;https://www.w3.org/2000/svg&#x27;,
            xlink: &#x27;https://www.w3.org/1999/xlink&#x27;,
            preserveAspectRatio: &#x27;xMinYMin meet&#x27;,
        });
    }

    /**
     * Public method: addFolioToSnapSvgCanvas.
     *
     * It coordinates the drawing of the calculated folio svg data
     * for a folio&#x27;s sheet, systems and items to the folio svg object
     * (SnapCanvas).
     *
     * @param {*} snapCanvas The given Snap canvas svg object.
     * @param {FolioSvgData} folioSvg The given calculated folio data.
     * @param {string} bgColor The given background color.
     * @param {string} fgColor The given foreground color.
     * @param {*} ref The given reference to the calling component.
     * @returns {void} Adds the folio to the Snap canvas svg object.
     */
    addFolioToSnapSvgCanvas(snapCanvas: any, folioSvg: FolioSvgData, bgColor: string, fgColor: string, ref: any): void {
        /**
         * Self-referring variable needed for CompileHtml library.
         */
        this.ref &#x3D; ref;

        /**
         * The Snap canvas sheet group object.
         */
        const snapSheetGroup: any &#x3D; snapCanvas.group();

        /**
         * Draw sheet.
         */
        this._addFolioSheetToSnapSvgCanvas(snapCanvas, snapSheetGroup, folioSvg, bgColor);

        /**
         * Draw systems.
         */
        this._addFolioSystemsToSnapSvgCanvas(snapCanvas, snapSheetGroup, folioSvg, bgColor);

        /**
         * Draw items.
         */
        this._addFolioItemsToSnapSvgCanvas(snapCanvas, snapSheetGroup, folioSvg, fgColor);
    }

    /**
     * Private method: _addFolioSheetToSnapSvgCanvas.
     *
     * It adds the folio&#x27;s sheet from the calculated
     * folio svg data to the folio svg object (SnapCanvas).
     *
     * @param {*} snapCanvas The given Snap canvas svg object.
     * @param {*} snapSheetGroup The given Snap canvas sheet group object.
     * @param {FolioSvgData} folioSvg The given calculated folio data.
     * @param {string} bgColor The given background color.
     * @returns {void} Adds the sheet to the Snap canvas svg object.
     */
    private _addFolioSheetToSnapSvgCanvas(
        snapCanvas: any,
        snapSheetGroup: any,
        folioSvg: FolioSvgData,
        bgColor: string
    ): void {
        // Init
        const folioId &#x3D; folioSvg.sheet.folioId;
        const x1 &#x3D; folioSvg.sheet.upperLeftCorner.x;
        const y1 &#x3D; folioSvg.sheet.upperLeftCorner.y;
        const x2 &#x3D; folioSvg.sheet.lowerRightCorner.x;
        const y2 &#x3D; folioSvg.sheet.lowerRightCorner.y;

        // Sheet id
        snapSheetGroup.attr({
            sheetGroupId: folioId,
            class: &#x27;sheet-group&#x27;,
        });

        // Sheet rectangle
        const snapSheetRect: any &#x3D; snapCanvas.rect(x1, y1, x2, y2);
        snapSheetRect.attr({
            fill: &#x27;white&#x27;,
            stroke: bgColor,
            strokeWidth: 1,
        });

        // Sheet title
        const snapSheetGroupTitle: string &#x3D; Snap.parse(&#x27;&lt;title&gt;Bl. &#x27; + folioId + &#x27;&lt;/title&gt;&#x27;);

        // Add the sheet group title to the sheet group
        snapSheetGroup.append(snapSheetGroupTitle);

        // Add the sheet rectangle to the sheet group
        snapSheetGroup.add(snapSheetRect);
    }

    /**
     * Private method: _addFolioSystemsToSnapSvgCanvas.
     *
     * It adds the folio&#x27;s systems from the calculated
     * folio svg data to the folio svg object (SnapCanvas).
     *
     * @param {*} snapCanvas The given Snap canvas svg object.
     * @param {*} snapSheetGroup The given Snap canvas sheet group object.
     * @param {FolioSvgData} folioSvg The given calculated folio data.
     * @param {string} bgColor The given background color.
     * @returns {void} Adds the systems to the Snap canvas svg object.
     */
    private _addFolioSystemsToSnapSvgCanvas(
        snapCanvas: any,
        snapSheetGroup: any,
        folioSvg: FolioSvgData,
        bgColor: string
    ): void {
        folioSvg.systems.lineArrays.forEach((lineArray: FolioCalculationLine[], systemIndex: number) &#x3D;&gt; {
            // Notational system
            const snapSystemLineGroup: any &#x3D; snapCanvas.group();
            snapSystemLineGroup.attr({
                systemLineGroupId: systemIndex + 1,
                class: &#x27;system-line-group&#x27;,
            });

            // System lines
            lineArray.forEach(line &#x3D;&gt; {
                // Init
                const x1 &#x3D; line.startPoint.x;
                const y1 &#x3D; line.startPoint.y;
                const x2 &#x3D; line.endPoint.x;
                const y2 &#x3D; line.endPoint.y;

                const systemLine: any &#x3D; snapCanvas.line(x1, y1, x2, y2);
                systemLine.attr({
                    class: &#x27;system-line&#x27;,
                    stroke: bgColor,
                    strokeWidth: 0.7,
                });
                snapSystemLineGroup.add(systemLine);
            });

            // System label
            // Init
            const x &#x3D; folioSvg.systems.lineLabelArray[systemIndex].x;
            const y &#x3D; folioSvg.systems.lineLabelArray[systemIndex].y;
            const systemLabel &#x3D; systemIndex + 1;

            const snapSystemLabel: any &#x3D; snapCanvas.text(x, y, systemLabel);
            snapSystemLabel.attr({
                class: &#x27;system-label&#x27;,
                dominantBaseline: &#x27;hanging&#x27;,
                fill: bgColor,
            });

            // Systems group
            const snapSystemsGroup: any &#x3D; snapCanvas.group(snapSystemLineGroup, snapSystemLabel);
            snapSystemsGroup.attr({
                systemsGroupId: systemIndex + 1,
                class: &#x27;systems-group&#x27;,
            });

            // Add the systems group to the sheet group
            snapSheetGroup.add(snapSystemsGroup);
        });
    }

    /**
     * Private method: _addFolioItemsToSnapSvgCanvas.
     *
     * It adds the folio&#x27;s items from the calculated
     * folio svg data to the folio svg object (SnapCanvas).
     *
     * @param {*} snapCanvas The given Snap canvas svg object.
     * @param {*} snapSheetGroup The given Snap canvas sheet group object.
     * @param {FolioSvgData} folioSvg The given calculated folio data.
     * @param {string} fgColor The given foreground color.
     * @returns {void} Adds the items to the Snap canvas svg object.
     */
    private _addFolioItemsToSnapSvgCanvas(
        snapCanvas: any,
        snapSheetGroup: any,
        folioSvg: FolioSvgData,
        fgColor: string
    ): void {
        folioSvg.contentItemsArray.forEach(contentItem &#x3D;&gt; {
            if (!contentItem) {
                return;
            }

            // Item label
            // Init
            const halfWidth &#x3D; contentItem.width / 2;
            const halfHeight &#x3D; contentItem.height / 2;
            const yOffset &#x3D; 5;

            let centeredXPosition &#x3D; contentItem.upperLeftCorner.x + halfWidth;
            let centeredYPosition &#x3D; contentItem.upperLeftCorner.y + halfHeight - yOffset;

            if (contentItem.reversed) {
                centeredXPosition &#x3D; contentItem.cornerPoints.lowerRightCorner.x - halfWidth;
                centeredYPosition &#x3D; contentItem.cornerPoints.lowerRightCorner.y - halfHeight + yOffset;
            }

            const itemLabelArray: string[] &#x3D; [
                contentItem.sigle,
                contentItem.sigleAddendum ? &#x60; ${contentItem.sigleAddendum}&#x60; : &#x27;&#x27;,
            ];

            const snapItemLabel: any &#x3D; snapCanvas.text(centeredXPosition, centeredYPosition, itemLabelArray);
            snapItemLabel.attr({
                class: &#x27;item-label&#x27;,
                style: &#x27;font: 12px Source Sans Pro, source-sans-pro, sans-serif&#x27;,
                dominantBaseline: &#x27;middle&#x27;,
                textAnchor: &#x27;middle&#x27;,
            });

            // Rotate the text 180 degrees around its center
            if (contentItem.reversed) {
                snapItemLabel.transform(&#x60;r180,${centeredXPosition},${centeredYPosition}&#x60;);
            }

            // Attributes for tspan elements of itemLabel array
            snapItemLabel.select(&#x27;tspan:first-of-type&#x27;).attr({
                x: centeredXPosition,
                y: centeredYPosition,
                textAnchor: &#x27;middle&#x27;,
            });
            if (itemLabelArray.length &gt; 1) {
                snapItemLabel.select(&#x27;tspan:last-of-type&#x27;).attr({
                    x: centeredXPosition,
                    y: centeredYPosition,
                    textAnchor: &#x27;middle&#x27;,
                    dy: &#x27;1.2em&#x27;,
                });
            }

            // Item shape
            const snapItemShape &#x3D; snapCanvas.group();

            const polygoneCornerPointArray &#x3D; [];
            polygoneCornerPointArray.push(
                contentItem.cornerPoints.upperLeftCorner.x,
                contentItem.cornerPoints.upperLeftCorner.y
            );
            polygoneCornerPointArray.push(
                contentItem.cornerPoints.upperRightCorner.x,
                contentItem.cornerPoints.upperRightCorner.y
            );
            polygoneCornerPointArray.push(
                contentItem.cornerPoints.lowerRightCorner.x,
                contentItem.cornerPoints.lowerRightCorner.y
            );
            polygoneCornerPointArray.push(
                contentItem.cornerPoints.lowerLeftCorner.x,
                contentItem.cornerPoints.lowerLeftCorner.y
            );
            polygoneCornerPointArray.push(
                contentItem.cornerPoints.upperLeftCorner.x,
                contentItem.cornerPoints.upperLeftCorner.y
            );
            const polygone &#x3D; snapCanvas.polyline(polygoneCornerPointArray);

            snapItemShape.add(polygone);
            snapItemShape.attr({
                class: &#x27;item-shape&#x27;,
                strokeWidth: 2,
                fill: &#x27;#eeeeee&#x27;,
            });

            // Item link
            const snapItemLink: any &#x3D; snapCanvas.el(&#x27;a&#x27;);
            snapItemLink.attr({
                class: &#x27;item-link&#x27;,
            });

            // Add shape and label to item link
            snapItemLink.add(snapItemShape);
            snapItemLink.add(snapItemLabel);

            // Item group
            const snapItemGroup: any &#x3D; snapCanvas.group(snapItemLink);
            snapItemGroup.attr({
                itemGroupId: itemLabelArray,
                itemId: contentItem.sheetId,
                class: &#x27;item-group&#x27;,
            });

            // Apply title when hovering item
            const snapItemGroupTitle: string &#x3D; Snap.parse(&#x27;&lt;title&gt;&#x27; + itemLabelArray + &#x27;&lt;/title&gt;&#x27;);
            snapItemGroup.append(snapItemGroupTitle);

            // Add click event handler
            // Exclude and mute non-selectable sketches for now
            if (contentItem.selectable &#x3D;&#x3D;&#x3D; false) {
                snapItemGroup.click(() &#x3D;&gt; this.ref.openModal(contentItem.linkTo));
                snapItemGroup.attr({
                    stroke: &#x27;grey&#x27;,
                    fill: &#x27;grey&#x27;,
                });
            } else {
                snapItemGroup.click(() &#x3D;&gt; this.ref.selectSvgSheet(contentItem.complexId, contentItem.sheetId));
                snapItemGroup.attr({
                    stroke: fgColor,
                    fill: fgColor,
                });
            }

            // Add the item group to the sheet group
            snapSheetGroup.add(snapItemGroup);
        });
    }
}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'FolioService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
