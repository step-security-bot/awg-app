(self.webpackChunkawg_app=self.webpackChunkawg_app||[]).push([[614],{9614:(f,g,n)=>{"use strict";n.r(g),n.d(g,{EditionViewModule:()=>_t});var c=n(655),l=n(4650),d=n(5921),R=n(5867);var W,D=n(816),y=n.n(D),w=n(1005),S=n(67),A=n(2638),E=n(141),L=n(3212);let z=((W=class{constructor(C,b,X){this.route=C,this.editionService=b,this.utils=X}get editionRouteConstants(){return E.LL}ngOnInit(){this.getEditionComplexFromRoute()}getEditionComplexFromRoute(){this.route.paramMap.subscribe(C=>{const b=C.get("complexId")?C.get("complexId"):"";this.editionService.updateEditionComplex(A.e5[b.toUpperCase()]),this.selectedEditionComplex$=this.editionService.getEditionComplex().pipe((0,w.g)(0))})}ngOnDestroy(){this.editionService.clearEditionComplex()}}).ctorParameters=()=>[{type:R.gz},{type:L.OE},{type:S.tI}],W);z=(0,c.gn)([(0,l.wA2)({selector:"awg-edition-complex",template:'\x3c!--\n<div *ngIf="selectedEditionComplex$ | async as complex">\n    <p>\n        Editionskomplex {{ complex.complexId.short }}: <br />\n        {{ complex | json }}\n    </p>\n    <p>Titel: {{ complex.titleStatement | json }}</p>\n    <p>\n        <a [routerLink]="[editionRouteConstants.EDITION_INTRO.route]">\n            {{ editionRouteConstants.EDITION_INTRO.short }}\n        </a>\n        {{ editionRouteConstants.EDITION_INTRO | json }}\n    </p>\n    <div>\n        <p>Werkedition: {{ complex.titleStatement | json }}</p>\n        <ul>\n            <li [innerHtml]="complex.complexId.full"></li>\n            enth\xe4lt:\n            <ul>\n                <li>\u201eDer Tag ist vergangen\u201c M 212: Textfassung 3</li>\n                <li>Die geheimnisvolle Fl\xf6te (\u201eAn einem Abend\u201c) M 217: einzige Textfassung</li>\n                <li>\u201eSchien mir\u2019s, als ich sah die Sonne\u201c M 213: einzige Textfassung</li>\n                <li>Gleich und Gleich (\u201eEin Blumengl\xf6ckchen\u201c) M 216: Textfassung 2</li>\n            </ul>\n        </ul>\n    </div>\n    <div>\n        <p>Texteditionen: {{ complex.titleStatement | json }}</p>\n        <ul>\n            <li>\u201eDer Tag ist vergangen\u201c M 212: Textfassung 1</li>\n            <li>\u201eDer Tag ist vergangen\u201c M 212: Textfassung 2</li>\n            <li>Gleich und Gleich (\u201eEin Blumengl\xf6ckchen\u201c) M 216: Textfassung 1</li>\n        </ul>\n    </div>\n    <div>\n        <p>Skizzeneditionen: {{ complex.titleStatement | json }}</p>\n        <ul>\n            <li>M 212 Sk 1</li>\n            <li>M 212 Sk 2</li>\n            <li>M 212 Sk 3</li>\n            <li>M 212 Sk 4</li>\n            <li>M 212 Sk 5</li>\n        </ul>\n    </div>\n    <p>\n        <a [routerLink]="[editionRouteConstants.EDITION_REPORT.route]">\n            {{ editionRouteConstants.EDITION_REPORT.short }}\n        </a>\n        {{ editionRouteConstants.EDITION_REPORT | json }}\n    </p>\n</div>\n--\x3e\n\n\x3c!-- edition routes --\x3e\n<router-outlet></router-outlet>\n',styles:[y()]})],z);var K,ot=n(7149),G=n.n(ot),st=n(7579),J=n(2722),H=n(849);let B=((K=class{constructor(C){this.editionService=C,this._destroyed$=new st.x}ngOnInit(){this.getEditionComplex()}getEditionComplex(){this.editionService.getEditionComplex().pipe((0,J.R)(this._destroyed$)).subscribe({next:C=>{this.editionComplex=C,this.setButtons()}})}setButtons(){this.editionRouterLinkButtons=[new H.v(this.editionComplex.baseRoute,E.LL.EDITION_INTRO.route,E.LL.EDITION_INTRO.short,!1),new H.v(this.editionComplex.baseRoute,E.LL.EDITION_SHEETS.route,E.LL.EDITION_SHEETS.short,!1),new H.v(this.editionComplex.baseRoute,E.LL.EDITION_REPORT.route,E.LL.EDITION_REPORT.short,!1),new H.v(this.editionComplex.baseRoute,E.LL.EDITION_GRAPH.route,E.LL.EDITION_GRAPH.short,!1)]}ngOnDestroy(){this._destroyed$.next(!0),this._destroyed$.complete()}}).ctorParameters=()=>[{type:L.OE}],K);B=(0,c.gn)([(0,l.wA2)({selector:"awg-edition-detail-nav",template:'<awg-router-link-button-group\n    *ngIf="editionRouterLinkButtons"\n    [routerLinkButtons]="editionRouterLinkButtons"\n    [queryParamsHandling]="\'\'">\n</awg-router-link-button-group>\n\n<router-outlet></router-outlet>\n',styles:[G()]})],B);var o,k=n(6608),P=n.n(k);let u=((o=class{constructor(C){this.editionService=C}ngOnInit(){this.clearSelections(),this.getEditionOutline()}getEditionOutline(){this.editionOutline=this.editionService.getEditionOutline()}clearSelections(){this.editionService.clearSelectedEditionSeries(),this.editionService.clearSelectedEditionSection()}}).ctorParameters=()=>[{type:L.OE}],o);u=(0,c.gn)([(0,l.wA2)({selector:"awg-edition-series",template:'<div *ngIf="editionOutline" class="row row-cols-1 row-cols-md-3 g-4">\n    <div class="col" *ngFor="let series of editionOutline">\n        <div class="card h-100">\n            <div class="card-header">\n                <h5 class="card-title">{{ series.series.full }}</h5>\n            </div>\n            <div class="card-body">\n                <ul class="list-group list-group-flush">\n                    <li *ngFor="let section of series.sections" class="list-group-item">\n                        <a\n                            *ngIf="!section.disabled; else disabledSection"\n                            [routerLink]="[series.series.route, \'section\', section.section.route]"\n                            >{{ section.section.full }}</a\n                        >\n                        <ng-template #disabledSection>\n                            <span class="text-muted">{{ section.section.full }}</span>\n                        </ng-template>\n                    </li>\n                </ul>\n            </div>\n            <div class="card-footer text-end">\n                <a [routerLink]="[series.series.route]" class="btn btn-outline-info">Mehr... </a>\n            </div>\n        </div>\n    </div>\n</div>\n',styles:[P()]})],u);var V,I=n(8483),F=n.n(I);let U=((V=class{constructor(C,b){this.route=C,this.editionService=b}ngOnInit(){this.getSeries()}getSeries(){const C=this.route.snapshot.paramMap.get("id");this.selectedSeries=this.editionService.getEditionSeriesById(C),this.editionService.updateSelectedEditionSeries(this.selectedSeries)}}).ctorParameters=()=>[{type:R.gz},{type:L.OE}],V);U=(0,c.gn)([(0,l.wA2)({selector:"awg-edition-series-detail",template:"<router-outlet></router-outlet>\n",styles:[F()]})],U);var rt,yt=n(2087),xt=n.n(yt);let q=((rt=class{constructor(C,b,X){this.route=C,this.editionService=b,this.utils=X,this._destroyed$=new st.x}ngOnInit(){this.getSection()}getSection(){const C=this.route.snapshot.paramMap.get("id");this.editionService.getSelectedEditionSeries().pipe((0,J.R)(this._destroyed$)).subscribe(b=>{if(b){this.selectedSeries=b;const X=b.series.route;this.selectedSection=this.editionService.getEditionSectionById(X,C),this.editionService.updateSelectedEditionSection(this.selectedSection)}})}ngOnDestroy(){this._destroyed$.next(!0),this._destroyed$.complete()}}).ctorParameters=()=>[{type:R.gz},{type:L.OE},{type:S.tI}],rt);q=(0,c.gn)([(0,l.wA2)({selector:"awg-edition-section-detail",template:'<div\n    class="awg-edition-section-detail"\n    *ngIf="\n        selectedSection &&\n            utils.isNotEmptyObject(selectedSection.complexes) &&\n            (utils.isNotEmptyArray(selectedSection.complexes.opus) ||\n                utils.isNotEmptyArray(selectedSection.complexes.mnr));\n        else noComplexes\n    ">\n    <div\n        *ngIf="utils.isNotEmptyArray(selectedSection.complexes.opus)"\n        class="awg-edition-section-detail-opus para p-3 border rounded-3">\n        <h5>nach Opusnummer:</h5>\n        <awg-edition-complex-card [complexes]="selectedSection.complexes.opus"></awg-edition-complex-card>\n    </div>\n\n    <div\n        *ngIf="utils.isNotEmptyArray(selectedSection.complexes.mnr)"\n        class="awg-edition-section-detail-mnr p-3 border rounded-3">\n        <h5>nach Moldenhauer-Nummer:</h5>\n        <awg-edition-complex-card [complexes]="selectedSection.complexes.mnr"></awg-edition-complex-card>\n    </div>\n</div>\n<ng-template #noComplexes>\n    <div class="alert alert-info" role="alert">\n        <p class="text-muted" style="margin-bottom: 0">\n            [Diese Inhalte erscheinen im Zusammenhang der vollsta\u0308ndigen Edition von AWG\n            {{ selectedSeries?.series.short }}/{{ selectedSection?.section.short }}.]\n        </p>\n    </div>\n</ng-template>\n',styles:[xt()]})],q);var lt,Rt=n(6641),wt=n.n(Rt);let tt=((lt=class{constructor(C){this.editionService=C}ngOnInit(){this.clearSelectedSection(),this.getSeries()}getSeries(){this.selectedSeries$=this.editionService.getSelectedEditionSeries()}clearSelectedSection(){this.editionService.clearSelectedEditionSection()}}).ctorParameters=()=>[{type:L.OE}],lt);tt=(0,c.gn)([(0,l.wA2)({selector:"awg-edition-sections",template:'<div *ngIf="selectedSeries$ | async as selectedSeries" class="row row-cols-1 row-cols-md-3 row-cols-xl-5 g-4">\n    <div class="col" *ngFor="let section of selectedSeries.sections">\n        <div class="card h-100">\n            <div class="card-body">\n                <h5 class="card-title" [ngClass]="{ \'text-muted\': section.disabled }">{{ section.section.full }}</h5>\n            </div>\n            <div class="card-footer text-end">\n                <a\n                    [routerLink]="[section.section.route]"\n                    class="btn btn-outline-info"\n                    [ngClass]="{ disabled: section.disabled }"\n                    >Mehr...\n                </a>\n            </div>\n        </div>\n    </div>\n</div>\n',styles:[wt()]})],tt);var at,Ot=n(4603),It=n.n(Ot);let ct=((at=class{constructor(){}ngOnInit(){}}).ctorParameters=()=>[],at);ct=(0,c.gn)([(0,l.wA2)({selector:"awg-edition-type",template:"<p>edition-type works!</p>\n\n<router-outlet></router-outlet>\n",styles:[It()]})],ct);var et,Dt=n(8094),Tt=n.n(Dt);let Q=((et=class{constructor(C,b,X){this.editionService=C,this.route=b,this.router=X,this.editionViewTitle="Inhalt",this.editionViewId="awg-edition-view"}get editionRouteConstants(){return E.LL}ngOnInit(){this.getSelectionsFromRoute(),this.routeToSidenav()}getSelectionsFromRoute(){this.selectedEditionSeries$=this.editionService.getSelectedEditionSeries().pipe((0,w.g)(0)),this.selectedEditionSection$=this.editionService.getSelectedEditionSection().pipe((0,w.g)(0)),this.selectedEditionComplex$=this.editionService.getEditionComplex().pipe((0,w.g)(0)),this.isRowTableView$=this.editionService.getIsRowTableView().pipe((0,w.g)(0))}routeToSidenav(){this.router.navigate([{outlets:{side:"editionInfo"}}],{preserveFragment:!0})}}).ctorParameters=()=>[{type:L.OE},{type:R.gz},{type:R.F0}],et);Q=(0,c.gn)([(0,l.wA2)({selector:"awg-edition-view",template:'\x3c!-- content: edition-view --\x3e\n\n<div>\n    <div class="awg-edition-row-tables para" *ngIf="isRowTableView$ | async as isRowTableView">\n        <h6 class="awg-edition-info-breadcrumb">\n            <a [routerLink]="[editionRouteConstants.SERIES.route]">\n                {{ editionRouteConstants.EDITION?.short }}\n            </a>\n            /\n            <span>{{ editionRouteConstants.ROWTABLES.full }}</span>\n        </h6>\n        \x3c!-- Jumbotron --\x3e\n        <awg-edition-jumbotron [jumbotronId]="editionViewId" [jumbotronTitle]="\'\xdcbersicht\'"></awg-edition-jumbotron>\n    </div>\n\n    <div\n        class="awg-edition-series para"\n        *ngIf="(selectedEditionComplex$ | async) === null && (isRowTableView$ | async) === null">\n        <h6 class="awg-edition-info-breadcrumb">\n            <a\n                *ngIf="selectedEditionSeries$ | async as selectedSeries; else editionWithoutLink"\n                [routerLink]="[editionRouteConstants.SERIES.route]">\n                {{ editionRouteConstants.EDITION?.short }}\n            </a>\n            <ng-template #editionWithoutLink> {{ editionRouteConstants.EDITION?.short }} </ng-template>\n            /\n            <span *ngIf="selectedEditionSeries$ | async as selectedSeries">\n                <a\n                    *ngIf="selectedEditionSection$ | async as selectedSection; else seriesWithoutLink"\n                    [routerLink]="[\'./series\', selectedSeries.series.route]">\n                    {{ selectedSeries?.series.full }}\n                </a>\n                <ng-template #seriesWithoutLink> {{ selectedSeries?.series.full }} </ng-template>\n                /\n            </span>\n            <span *ngIf="selectedEditionSection$ | async as selectedSection">\n                {{ selectedSection?.section.full }}\n            </span>\n        </h6>\n        \x3c!-- Jumbotron --\x3e\n        <awg-edition-jumbotron\n            [jumbotronId]="editionViewId"\n            [jumbotronTitle]="editionViewTitle"></awg-edition-jumbotron>\n    </div>\n\n    <div class="awg-edition-complex" *ngIf="selectedEditionComplex$ | async as selectedEditionComplex">\n        <h6 class="awg-edition-info-breadcrumb">\n            <a [routerLink]="[editionRouteConstants.SERIES.route]">\n                {{ editionRouteConstants.EDITION?.short }}\n            </a>\n            /\n            <a [routerLink]="[editionRouteConstants.SERIES.route, selectedEditionComplex.series.route]">\n                {{ selectedEditionComplex.series.full }}\n            </a>\n            /\n            <a\n                [routerLink]="[\n                    editionRouteConstants.SERIES.route,\n                    selectedEditionComplex.series.route,\n                    \'section\',\n                    selectedEditionComplex.section.route\n                ]">\n                {{ selectedEditionComplex.section.full }}\n            </a>\n        </h6>\n        <h3 class="awg-edition-info-header">\n            <span class="awg-edition-info-header-title" [innerHTML]="selectedEditionComplex.titleStatement.title"></span\n            >&nbsp;<span class="awg-edition-info-header-catalogue">{{ selectedEditionComplex.complexId.short }}</span>\n        </h3>\n        \x3c!-- declamation --\x3e\n        <div class="awg-edition-responsibility mt-3">\n            <p>\n                Ediert von\n                <span\n                    class="editor"\n                    *ngFor="let editor of selectedEditionComplex.responsibilityStatement.editors; last as isLast">\n                    <a href="{{ editor.homepage }}">{{ editor.name }}</a\n                    ><span *ngIf="!isLast">&nbsp;&&nbsp;</span>\n                </span>\n                <br />\n                Versionsdatum:\n                <span class="version">{{ selectedEditionComplex.responsibilityStatement.lastModified }}</span>\n            </p>\n        </div>\n    </div>\n\n    \x3c!-- edition routes --\x3e\n    <router-outlet></router-outlet>\n</div>\n',styles:[Tt()]})],Q);const vt=[{path:"",component:Q,children:[{path:"series",component:u},{path:"series/:id",component:U,children:[{path:"sections",component:tt},{path:"section/:id",component:q},{path:"sections/:id",redirectTo:"section/:id",pathMatch:"full"},{path:"",redirectTo:"sections",pathMatch:"full"}]},{path:"composition",redirectTo:"complex",pathMatch:"prefix"},{path:"complex/:complexId",component:z,children:[{path:"",component:B,children:[{path:"intro",loadChildren:()=>n.e(667).then(n.bind(n,5667)).then(O=>O.EditionIntroModule)},{path:"sheets",loadChildren:()=>Promise.all([n.e(145),n.e(592),n.e(668)]).then(n.bind(n,5668)).then(O=>O.EditionSheetsModule)},{path:"report",loadChildren:()=>Promise.all([n.e(592),n.e(520)]).then(n.bind(n,2520)).then(O=>O.EditionReportModule)},{path:"graph",loadChildren:()=>Promise.all([n.e(145),n.e(592),n.e(216)]).then(n.bind(n,6216)).then(O=>O.EditionGraphModule)},{path:"",redirectTo:"sheets",pathMatch:"full"}]}]},{path:"row-tables",loadChildren:()=>n.e(224).then(n.bind(n,6224)).then(O=>O.EditionRowTablesModule)}]}],St=[Q,z,B,tt,q,u,U,ct];let nt=class{};nt=(0,c.gn)([(0,l.LVF)({imports:[R.Bz.forChild(vt)],exports:[R.Bz]})],nt);var dt,Pt=n(1836),bt=n.n(Pt);let ut=((dt=class{}).propDecorators={complexes:[{type:l.IIB}]},dt);ut=(0,c.gn)([(0,l.wA2)({selector:"awg-edition-complex-card",template:'<div class="row row-cols-1 row-cols-md-3 row-cols-xl-5 g-4">\n    <div class="col" *ngFor="let complex of complexes">\n        <div class="card awg-edition-card h-100">\n            <div class="card-body">\n                <h5 class="card-title" [ngClass]="{ \'text-muted\': complex.disabled }">\n                    <span\n                        class="awg-edition-info-header-title"\n                        [innerHTML]="complex.complex.titleStatement.title"></span\n                    >&nbsp;<span class="awg-edition-info-header-catalogue">{{ complex.complex.complexId.short }}</span>\n                </h5>\n            </div>\n            <div class="card-footer">\n                <p *ngIf="!complex.disabled" class="awg-edition-responsibility">\n                    <small class="text-muted">\n                        Ediert von\n                        <span\n                            class="editor"\n                            *ngFor="let editor of complex.complex.responsibilityStatement.editors; last as isLast">\n                            <a href="{{ editor.homepage }}">{{ editor.name }}</a\n                            ><span *ngIf="!isLast">&nbsp;&&nbsp;</span>\n                        </span>\n                        <br />\n                        Versionsdatum:\n                        <span class="version">{{ complex.complex.responsibilityStatement.lastModified }}</span>\n                    </small>\n                </p>\n                <p class="text-end">\n                    <a\n                        [routerLink]="[complex.complex.baseRoute]"\n                        class="btn btn-outline-info"\n                        [ngClass]="{ disabled: complex.disabled }"\n                        >Mehr...\n                    </a>\n                </p>\n            </div>\n        </div>\n    </div>\n</div>\n',changeDetection:l.n4l.OnPush,styles:[bt()]})],ut);var ht,Nt=n(1809),Ft=n.n(Nt);let pt=((ht=class{}).propDecorators={jumbotronId:[{type:l.IIB}],jumbotronTitle:[{type:l.IIB}]},ht);pt=(0,c.gn)([(0,l.wA2)({selector:"awg-edition-jumbotron",template:'<div\n    class="p-5 bg-image text-white text-center awg-jumbotron-image shadow border rounded-3"\n    style="background-image: url(\'https://mdbcdn.b-cdn.net/img/new/slides/041.webp\')">\n    <h1 id="{{ jumbotronId }}" class="mb-4">{{ jumbotronTitle }}</h1>\n</div>\n',changeDetection:l.n4l.OnPush,styles:[Ft()]})],pt);let _t=class{};_t=(0,c.gn)([(0,l.LVF)({imports:[d.m,nt],declarations:[St,ut,pt]})],_t)},3212:(f,g,n)=>{"use strict";n.d(g,{Ko:()=>W,OE:()=>k,Rt:()=>B});var L,c=n(655),l=n(529),d=n(4650),R=n(4128),T=n(9646),D=n(6590),y=n(5698),w=n(262),S=n(2638),A=n(141),E=n(4364);let W=((L=class{constructor(o){this.http=o,this._assetPath=""}getEditionSheetsData(o){this._setAssetPath(o);const u=this._getFolioConvoluteData(),v=this._getSvgSheetsData(),I=this._getTextcriticsListData();return(0,R.D)([u,v,I]).pipe((0,D.d)([new E.yL,new E.vU,new E.Dt]),(0,y.q)(1))}getEditionGraphData(o){return this._setAssetPath(o),this._getGraphData().pipe((0,D.d)(new E.nu),(0,y.q)(1))}getEditionIntroData(o){return this._setAssetPath(o),this._getIntroData().pipe((0,D.d)(new E.Jb),(0,y.q)(1))}getEditionReportData(o){this._setAssetPath(o);const u=this._getSourceListData(),v=this._getSourceDescriptionListData(),I=this._getSourceEvaluationListData(),F=this._getTextcriticsListData();return(0,R.D)([u,v,I,F]).pipe((0,D.d)([new E.LQ,new E.DD,new E.DO,new E.Dt]),(0,y.q)(1))}getRowTables(){return S.zY}_setAssetPath(o){const v="/"+A.LL.SERIES.route+"/"+o.series.route+A.LL.SECTION.route+o.section.route+o.complexId.route;this._assetPath=S.R3.BASE_ROUTE+v}_getFolioConvoluteData(){const o=S.R3.FILES.folioConvoluteFile,u=`${this._assetPath}/${o}`;return this._getJsonData(u)}_getGraphData(){const o=S.R3.FILES.graphFile,u=`${this._assetPath}/${o}`;return this._getJsonData(u)}_getIntroData(){const o=S.R3.FILES.introFile,u=`${this._assetPath}/${o}`;return this._getJsonData(u)}_getSourceListData(){const o=S.R3.FILES.sourceListFile,u=`${this._assetPath}/${o}`;return this._getJsonData(u)}_getSourceDescriptionListData(){const o=S.R3.FILES.sourceDescriptionListFile,u=`${this._assetPath}/${o}`;return this._getJsonData(u)}_getSourceEvaluationListData(){const o=S.R3.FILES.sourceEvaluationListFile,u=`${this._assetPath}/${o}`;return this._getJsonData(u)}_getSvgSheetsData(){const o=S.R3.FILES.svgSheetsFile,u=`${this._assetPath}/${o}`;return this._getJsonData(u)}_getTextcriticsListData(){const o=S.R3.FILES.textcriticsFile,u=`${this._assetPath}/${o}`;return this._getJsonData(u)}_getJsonData(o){return this.http.get(o).pipe((0,w.K)(this._handleError("_getJsonData",[])))}_handleError(o,u){return v=>(this._logError(`${o} failed: ${v.message}`),(0,T.of)(u))}_logError(o){console.error(o)}}).ctorParameters=()=>[{type:l.eN}],L);W=(0,c.gn)([(0,d.GSi)({providedIn:"root"})],W);var z=n(5861);function it(P){if(!P.ok)throw new Error(P.status+" "+P.statusText);return P.text()}function G(P){return(o,u)=>function ot(P,o){return fetch(P,o).then(it)}(o,u).then(v=>(new DOMParser).parseFromString(v,P))}G("application/xml");G("text/html");var H=G("image/svg+xml"),K=n(711);let B=class{constructor(){this.overlayFillColor="orange",this.overlayHoverFillColor="tomato",this.overlaySelectionFillColor="green",this.linkBoxFillColor="#dddddd",this.linkBoxHoverFillColor="#eeeeee",this._overlayBoxesOpacity=.3,this._overlayBoxAdditionalSpace=5.5,this._overlayBoxCornerRadius=2}createSvg(o,u,v){var I=this;return(0,z.Z)(function*(){if(!o||!u||!v)return;const V=(yield I._fetchSvgFile(o)).getElementsByTagName("svg")[0],U=I._getViewBox(V);for(;V.firstChild;)v.appendChild(V.firstChild);return u.appendChild(v),K.Z(u).attr("width",U.svgWidth).attr("height",U.svgHeight).attr("viewBox",U.viewBox).attr("preserveAspectRatio","xMidYMid meet").attr("version","1.1").attr("xmlns","https://www.w3.org/2000/svg").attr("xlink","https://www.w3.org/1999/xlink")})()}createOverlayGroup(o,u,v,I){if(!o||!u)return;const F=this.getD3SelectionById(o,u);return F.append("g").attr("class",`${I}-overlay-group`),F.select(`g.${I}-overlay-group`).append("rect").attr("width",v.width+2*this._overlayBoxAdditionalSpace).attr("height",v.height+2*this._overlayBoxAdditionalSpace).attr("x",v.x-this._overlayBoxAdditionalSpace).attr("y",v.y-this._overlayBoxAdditionalSpace).attr("rx",this._overlayBoxCornerRadius).attr("fill",this.overlayFillColor).attr("opacity",this._overlayBoxesOpacity).attr("class",`${I}-overlay-group-box`)}fillD3SelectionWithColor(o,u){!o||!u||o.attr("fill",u)}getContainerDimensions(o){if(!o)return{width:void 0,height:void 0};return{width:o.nativeElement.clientWidth,height:o.nativeElement.clientHeight}}getD3SelectionById(o,u){if(o&&u)return o.select("#"+u)}getGroupsBySelector(o,u){if(o)return o.selectAll("g."+u)}getOverlayGroupRectSelection(o,u,v){return o&&u&&v?this.getD3SelectionById(o,u).select(`rect.${v}-overlay-group-box`):void 0}_fetchSvgFile(o){return H(o)}_getViewBox(o){const v=K.Z(o).attr("viewBox").split(" "),I=+v[2],F=+v[3];return new E.HA(I,F)}};B=(0,c.gn)([(0,d.GSi)({providedIn:"root"})],B);var Y=n(4707);let k=class{constructor(){this._bufferSize=1,this._editionComplexSubject=new Y.t(this._bufferSize),this._editionComplexStream$=this._editionComplexSubject.asObservable(),this._isRowTableViewSubject=new Y.t(this._bufferSize),this._isRowTableViewStream$=this._isRowTableViewSubject.asObservable(),this._selectedEditionSeriesSubject=new Y.t(this._bufferSize),this._selectedEditionSeriesStream$=this._selectedEditionSeriesSubject.asObservable(),this._selectedEditionSectionSubject=new Y.t(this._bufferSize),this._selectedEditionSectionStream$=this._selectedEditionSectionSubject.asObservable()}getTextcriticalCommentsForOverlays(o,u){return o&&u?o.filter(v=>u.some(I=>v.svgGroupId===I.id)):[]}getEditionComplex(){return this._editionComplexStream$}updateEditionComplex(o){this._editionComplexSubject.next(o)}clearEditionComplex(){this._editionComplexSubject.next(null)}getEditionOutline(){return S.i2}getEditionSeriesRoute(){return A.LL.EDITION.route+A.LL.SERIES.route}getEditionSeriesById(o){return S.i2.find(u=>u.series.route===o)}getEditionSectionById(o,u){return this.getEditionSeriesById(o).sections.find(I=>I.section.route===u)}getSelectedEditionSeries(){return this._selectedEditionSeriesStream$}updateSelectedEditionSeries(o){this._selectedEditionSeriesSubject.next(o)}clearSelectedEditionSeries(){this._selectedEditionSeriesSubject.next(null)}getSelectedEditionSection(){return this._selectedEditionSectionStream$}updateSelectedEditionSection(o){this._selectedEditionSectionSubject.next(o)}clearSelectedEditionSection(){this._selectedEditionSectionSubject.next(null)}getIsRowTableView(){return this._isRowTableViewStream$}updateIsRowTableView(o){this._isRowTableViewSubject.next(o)}clearIsRowTableView(){this._isRowTableViewSubject.next(null)}};k=(0,c.gn)([(0,d.GSi)({providedIn:"root"})],k)},1836:(f,g,n)=>{var c=n(135),d=n(479)(c);d.push([f.id,"",""]),f.exports=d.toString()},1809:(f,g,n)=>{var c=n(135),d=n(479)(c);d.push([f.id,"",""]),f.exports=d.toString()},816:(f,g,n)=>{var c=n(135),d=n(479)(c);d.push([f.id,"",""]),f.exports=d.toString()},7149:(f,g,n)=>{var c=n(135),d=n(479)(c);d.push([f.id,"",""]),f.exports=d.toString()},2087:(f,g,n)=>{var c=n(135),d=n(479)(c);d.push([f.id,"",""]),f.exports=d.toString()},6641:(f,g,n)=>{var c=n(135),d=n(479)(c);d.push([f.id,"",""]),f.exports=d.toString()},8483:(f,g,n)=>{var c=n(135),d=n(479)(c);d.push([f.id,"",""]),f.exports=d.toString()},6608:(f,g,n)=>{var c=n(135),d=n(479)(c);d.push([f.id,"",""]),f.exports=d.toString()},4603:(f,g,n)=>{var c=n(135),d=n(479)(c);d.push([f.id,"",""]),f.exports=d.toString()},8094:(f,g,n)=>{var c=n(135),d=n(479)(c);d.push([f.id,"",""]),f.exports=d.toString()},1280:(f,g,n)=>{"use strict";function c(l){return null==l?[]:Array.isArray(l)?l:Array.from(l)}n.d(g,{Z:()=>c})},318:(f,g,n)=>{"use strict";function c(d){return function(){return this.matches(d)}}function l(d){return function(R){return R.matches(d)}}n.d(g,{P:()=>l,Z:()=>c})},6022:(f,g,n)=>{"use strict";n.d(g,{Z:()=>l});var c=n(3001);function l(d){var R=d+="",T=R.indexOf(":");return T>=0&&"xmlns"!==(R=d.slice(0,T))&&(d=d.slice(T+1)),c.Z.hasOwnProperty(R)?{space:c.Z[R],local:d}:d}},3001:(f,g,n)=>{"use strict";n.d(g,{P:()=>c,Z:()=>l});var c="http://www.w3.org/1999/xhtml";const l={svg:"http://www.w3.org/2000/svg",xhtml:c,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},711:(f,g,n)=>{"use strict";n.d(g,{Z:()=>l});var c=n(2232);function l(d){return"string"==typeof d?new c.Y1([[document.querySelector(d)]],[document.documentElement]):new c.Y1([[d]],c.Jz)}},2232:(f,g,n)=>{"use strict";n.d(g,{Y1:()=>M,ZP:()=>fe,Jz:()=>Ut});var c=n(9360);var d=n(1280),R=n(3554);var y=n(318),w=Array.prototype.find;function A(){return this.firstElementChild}var L=Array.prototype.filter;function W(){return Array.from(this.children)}function G(t){return new Array(t.length)}function J(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function K(t,e,s,r,i,a){for(var h,p=0,_=e.length,m=a.length;p<m;++p)(h=e[p])?(h.__data__=a[p],r[p]=h):s[p]=new J(t,a[p]);for(;p<_;++p)(h=e[p])&&(i[p]=h)}function B(t,e,s,r,i,a,p){var h,_,N,m=new Map,x=e.length,$=a.length,Z=new Array(x);for(h=0;h<x;++h)(_=e[h])&&(Z[h]=N=p.call(_,_.__data__,h,e)+"",m.has(N)?i[h]=_:m.set(N,_));for(h=0;h<$;++h)N=p.call(t,a[h],h,a)+"",(_=m.get(N))?(r[h]=_,_.__data__=a[h],m.delete(N)):s[h]=new J(t,a[h]);for(h=0;h<x;++h)(_=e[h])&&m.get(Z[h])===_&&(i[h]=_)}function Y(t){return t.__data__}function P(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function V(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}J.prototype={constructor:J,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var gt=n(6022);function Rt(t){return function(){this.removeAttribute(t)}}function wt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function lt(t,e){return function(){this.setAttribute(t,e)}}function tt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ct(t,e){return function(){var s=e.apply(this,arguments);null==s?this.removeAttribute(t):this.setAttribute(t,s)}}function Ot(t,e){return function(){var s=e.apply(this,arguments);null==s?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,s)}}var at=n(663);function ct(t){return function(){delete this[t]}}function At(t,e){return function(){this[t]=e}}function Dt(t,e){return function(){var s=e.apply(this,arguments);null==s?delete this[t]:this[t]=s}}function et(t){return t.trim().split(/^|\s+/)}function Q(t){return t.classList||new vt(t)}function vt(t){this._node=t,this._names=et(t.getAttribute("class")||"")}function St(t,e){for(var s=Q(t),r=-1,i=e.length;++r<i;)s.add(e[r])}function nt(t,e){for(var s=Q(t),r=-1,i=e.length;++r<i;)s.remove(e[r])}function Lt(t){return function(){St(this,t)}}function Pt(t){return function(){nt(this,t)}}function bt(t,e){return function(){(e.apply(this,arguments)?St:nt)(this,t)}}function ut(){this.textContent=""}function Mt(t){return function(){this.textContent=t}}function Nt(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ht(){this.innerHTML=""}function pt(t){return function(){this.innerHTML=t}}function _t(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function C(){this.nextSibling&&this.parentNode.appendChild(this)}function X(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}vt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var $t=n(3001);function Jt(t){return function(){var e=this.ownerDocument,s=this.namespaceURI;return s===$t.P&&e.documentElement.namespaceURI===$t.P?e.createElement(t):e.createElementNS(s,t)}}function Ht(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Bt(t){var e=(0,gt.Z)(t);return(e.local?Ht:Jt)(e)}function Yt(){return null}function kt(){var t=this.parentNode;t&&t.removeChild(this)}function te(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ee(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function re(t){return function(){var e=this.__on;if(e){for(var a,s=0,r=-1,i=e.length;s<i;++s)a=e[s],t.type&&a.type!==t.type||a.name!==t.name?e[++r]=a:this.removeEventListener(a.type,a.listener,a.options);++r?e.length=r:delete this.__on}}}function le(t,e,s){return function(){var i,r=this.__on,a=function oe(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var p=0,h=r.length;p<h;++p)if((i=r[p]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=s),void(i.value=e);this.addEventListener(t.type,a,s),i={type:t.type,name:t.name,value:e,listener:a,options:s},r?r.push(i):this.__on=[i]}}var ce=n(7104);function Vt(t,e,s){var r=(0,ce.Z)(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,s):(i=r.document.createEvent("Event"),s?(i.initEvent(e,s.bubbles,s.cancelable),i.detail=s.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function de(t,e){return function(){return Vt(this,t,e)}}function ue(t,e){return function(){return Vt(this,t,e.apply(this,arguments))}}var Ut=[null];function M(t,e){this._groups=t,this._parents=e}function Zt(){return new M([[document.documentElement]],Ut)}M.prototype=Zt.prototype={constructor:M,select:function l(t){"function"!=typeof t&&(t=(0,c.Z)(t));for(var e=this._groups,s=e.length,r=new Array(s),i=0;i<s;++i)for(var _,m,a=e[i],p=a.length,h=r[i]=new Array(p),x=0;x<p;++x)(_=a[x])&&(m=t.call(_,_.__data__,x,a))&&("__data__"in _&&(m.__data__=_.__data__),h[x]=m);return new M(r,this._parents)},selectAll:function D(t){t="function"==typeof t?function T(t){return function(){return(0,d.Z)(t.apply(this,arguments))}}(t):(0,R.Z)(t);for(var e=this._groups,s=e.length,r=[],i=[],a=0;a<s;++a)for(var _,p=e[a],h=p.length,m=0;m<h;++m)(_=p[m])&&(r.push(t.call(_,_.__data__,m,p)),i.push(_));return new M(r,i)},selectChild:function E(t){return this.select(null==t?A:function S(t){return function(){return w.call(this.children,t)}}("function"==typeof t?t:(0,y.P)(t)))},selectChildren:function it(t){return this.selectAll(null==t?W:function z(t){return function(){return L.call(this.children,t)}}("function"==typeof t?t:(0,y.P)(t)))},filter:function ot(t){"function"!=typeof t&&(t=(0,y.Z)(t));for(var e=this._groups,s=e.length,r=new Array(s),i=0;i<s;++i)for(var _,a=e[i],p=a.length,h=r[i]=[],m=0;m<p;++m)(_=a[m])&&t.call(_,_.__data__,m,a)&&h.push(_);return new M(r,this._parents)},data:function k(t,e){if(!arguments.length)return Array.from(this,Y);var s=e?B:K,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function H(t){return function(){return t}}(t));for(var a=i.length,p=new Array(a),h=new Array(a),_=new Array(a),m=0;m<a;++m){var x=r[m],$=i[m],Z=$.length,N=P(t.call(x,x&&x.__data__,m,r)),j=N.length,jt=h[m]=new Array(j),Wt=p[m]=new Array(j);s(x,$,jt,Wt,_[m]=new Array(Z),N,e);for(var Xt,zt,ft=0,Et=0;ft<j;++ft)if(Xt=jt[ft]){for(ft>=Et&&(Et=ft+1);!(zt=Wt[Et])&&++Et<j;);Xt._next=zt||null}}return(p=new M(p,r))._enter=h,p._exit=_,p},enter:function st(){return new M(this._enter||this._groups.map(G),this._parents)},exit:function o(){return new M(this._exit||this._groups.map(G),this._parents)},join:function u(t,e,s){var r=this.enter(),i=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&((i=e(i))&&(i=i.selection())),null==s?a.remove():s(a),r&&i?r.merge(i).order():i},merge:function v(t){for(var e=t.selection?t.selection():t,s=this._groups,r=e._groups,i=s.length,a=r.length,p=Math.min(i,a),h=new Array(i),_=0;_<p;++_)for(var N,m=s[_],x=r[_],$=m.length,Z=h[_]=new Array($),j=0;j<$;++j)(N=m[j]||x[j])&&(Z[j]=N);for(;_<i;++_)h[_]=s[_];return new M(h,this._parents)},selection:function _e(){return this},order:function I(){for(var t=this._groups,e=-1,s=t.length;++e<s;)for(var p,r=t[e],i=r.length-1,a=r[i];--i>=0;)(p=r[i])&&(a&&4^p.compareDocumentPosition(a)&&a.parentNode.insertBefore(p,a),a=p);return this},sort:function F(t){function e($,Z){return $&&Z?t($.__data__,Z.__data__):!$-!Z}t||(t=V);for(var s=this._groups,r=s.length,i=new Array(r),a=0;a<r;++a){for(var m,p=s[a],h=p.length,_=i[a]=new Array(h),x=0;x<h;++x)(m=p[x])&&(_[x]=m);_.sort(e)}return new M(i,this._parents).order()},call:function U(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function mt(){return Array.from(this)},node:function yt(){for(var t=this._groups,e=0,s=t.length;e<s;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var p=r[i];if(p)return p}return null},size:function xt(){let t=0;for(const e of this)++t;return t},empty:function rt(){return!this.node()},each:function q(t){for(var e=this._groups,s=0,r=e.length;s<r;++s)for(var h,i=e[s],a=0,p=i.length;a<p;++a)(h=i[a])&&t.call(h,h.__data__,a,i);return this},attr:function It(t,e){var s=(0,gt.Z)(t);if(arguments.length<2){var r=this.node();return s.local?r.getAttributeNS(s.space,s.local):r.getAttribute(s)}return this.each((null==e?s.local?wt:Rt:"function"==typeof e?s.local?Ot:Ct:s.local?tt:lt)(s,e))},style:at.Z,property:function Tt(t,e){return arguments.length>1?this.each((null==e?ct:"function"==typeof e?Dt:At)(t,e)):this.node()[t]},classed:function dt(t,e){var s=et(t+"");if(arguments.length<2){for(var r=Q(this.node()),i=-1,a=s.length;++i<a;)if(!r.contains(s[i]))return!1;return!0}return this.each(("function"==typeof e?bt:e?Lt:Pt)(s,e))},text:function Ft(t){return arguments.length?this.each(null==t?ut:("function"==typeof t?Nt:Mt)(t)):this.node().textContent},html:function O(t){return arguments.length?this.each(null==t?ht:("function"==typeof t?_t:pt)(t)):this.node().innerHTML},raise:function b(){return this.each(C)},lower:function Gt(){return this.each(X)},append:function Kt(t){var e="function"==typeof t?t:Bt(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function Qt(t,e){var s="function"==typeof t?t:Bt(t),r=null==e?Yt:"function"==typeof e?e:(0,c.Z)(e);return this.select(function(){return this.insertBefore(s.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function qt(){return this.each(kt)},clone:function ne(t){return this.select(t?ee:te)},datum:function ie(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function ae(t,e,s){var i,p,r=function se(t){return t.trim().split(/^|\s+/).map(function(e){var s="",r=e.indexOf(".");return r>=0&&(s=e.slice(r+1),e=e.slice(0,r)),{type:e,name:s}})}(t+""),a=r.length;if(!(arguments.length<2)){for(h=e?le:re,i=0;i<a;++i)this.each(h(r[i],e,s));return this}var h=this.node().__on;if(h)for(var x,_=0,m=h.length;_<m;++_)for(i=0,x=h[_];i<a;++i)if((p=r[i]).type===x.type&&p.name===x.name)return x.value},dispatch:function he(t,e){return this.each(("function"==typeof e?ue:de)(t,e))},[Symbol.iterator]:function*pe(){for(var t=this._groups,e=0,s=t.length;e<s;++e)for(var p,r=t[e],i=0,a=r.length;i<a;++i)(p=r[i])&&(yield p)}};const fe=Zt},663:(f,g,n)=>{"use strict";n.d(g,{S:()=>D,Z:()=>T});var c=n(7104);function l(y){return function(){this.style.removeProperty(y)}}function d(y,w,S){return function(){this.style.setProperty(y,w,S)}}function R(y,w,S){return function(){var A=w.apply(this,arguments);null==A?this.style.removeProperty(y):this.style.setProperty(y,A,S)}}function T(y,w,S){return arguments.length>1?this.each((null==w?l:"function"==typeof w?R:d)(y,w,S??"")):D(this.node(),y)}function D(y,w){return y.style.getPropertyValue(w)||(0,c.Z)(y).getComputedStyle(y,null).getPropertyValue(w)}},9360:(f,g,n)=>{"use strict";function c(){}function l(d){return null==d?c:function(){return this.querySelector(d)}}n.d(g,{Z:()=>l})},3554:(f,g,n)=>{"use strict";function c(){return[]}function l(d){return null==d?c:function(){return this.querySelectorAll(d)}}n.d(g,{Z:()=>l})},7104:(f,g,n)=>{"use strict";function c(l){return l.ownerDocument&&l.ownerDocument.defaultView||l.document&&l||l.defaultView}n.d(g,{Z:()=>c})},5861:(f,g,n)=>{"use strict";function c(d,R,T,D,y,w,S){try{var A=d[w](S),E=A.value}catch(L){return void T(L)}A.done?R(E):Promise.resolve(E).then(D,y)}function l(d){return function(){var R=this,T=arguments;return new Promise(function(D,y){var w=d.apply(R,T);function S(E){c(w,D,y,S,A,"next",E)}function A(E){c(w,D,y,S,A,"throw",E)}S(void 0)})}}n.d(g,{Z:()=>l})}}]);